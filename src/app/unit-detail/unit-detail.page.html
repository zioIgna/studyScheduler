<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/navigation/tabs/args"></ion-back-button>
    </ion-buttons>
    <ion-title>{{ unit?.title }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card>
    <ion-card-header>
      <ion-card-subtitle>
        <ion-label style="float:left">{{unit.title}}
          <!-- <ion-badge *ngIf="unit?.pastDates != undefined" [color]="unit?.overdueDates ? 'danger' : 'primary' "> -->
          <ion-badge *ngIf="unit?.pastDates != undefined" [color]="unit?.overdueDates ? 'danger' : unit?.nextDate == undefined ? 'primary' : 'secondary' ">
            <ion-icon [name]="unit.overdueDates ? 'close' : 'checkmark'"></ion-icon>
          </ion-badge>
        </ion-label>
        <ion-label style="float:right">{{unit.createdOn | date}}</ion-label>
      </ion-card-subtitle>
    </ion-card-header>
    <ion-item>
      <ion-icon slot="start" name="bookmark"></ion-icon>
      <ion-label><i>da </i><b>{{unit?.chapterFrom}}</b><i> a </i><b>{{unit?.chapterTo}}</b></ion-label>
    </ion-item>
    <ion-card-content>
      <ion-item lines='none' text-center>
        <ion-label class="ion-text-uppercase ion-no-padding"><h2><b>{{unit.libro}}</b></h2></ion-label>
      </ion-item>
      <p *ngIf="unit?.nextDate">nextDate: {{unit?.nextDate.giorno | date}}</p>
      <!-- <div *ngIf="unit.nextDate == undefined"> -->
      <p *ngFor="let date of unit.appuntamenti" (click)="onSwitchStatus(date.giorno)">{{ date.giorno | date }},
        {{date.status }}
        <ion-badge slot="end"
          [color]="date.status == 'DUE' ? 'secondary' : date.status == 'OVERDUE' ? 'danger' : 'primary'">.
        </ion-badge>
      </p>
      <p *ngIf="unit.overdueDates">You have one or more overdue dates pending...</p>
      <p *ngIf="!unit.overdueDates && !unit.nextDate">Task completed!</p>
      <!-- </div> -->
    </ion-card-content>
  </ion-card>
</ion-content>